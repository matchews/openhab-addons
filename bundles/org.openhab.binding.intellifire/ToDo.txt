
Things online before succesful local poll?

Combine light and fan into fireplace thing? (light:light, fan:fan)

Dimmer light icon brightness doesn't work with 0-3
Flame height not working in homekit

http vs https
verify SSL certificate


Send Command failure causes thing offline.  Recovery?

******
Test local IP address change.
IP Address successfully updates on initialization.
What to do if localPolling fails?
    Try cloudPolling
    Or retry out and re-initialize?
    
    
    Initialize (including one cloud poll)
    Local Poll
        Retry local 2-3 times
        Retry cloud 2-3 times  (if this succeeds, go back to local polling?)
        Initialize
    
    

HttpResponse error messages need to differentiate between internet connection and local connection.
Might need a config option to select local, cloud, or both?
******

getusername used in python code?


Limit outgoing command frequency so we don't overload the server

Logging
ReadMe
    Timer must have unit metatadata set to minutes
    

2024-04-16 06:37:23.379 [WARN ] [e.internal.SseItemStatesEventBuilder] - Attempting to send a state update of an item which doesn't exist: __ob__
2024-04-16 06:37:23.379 [WARN ] [e.internal.SseItemStatesEventBuilder] - Attempting to send a state update of an item which doesn't exist: __v_isRef

            204 Success â€“ command accepted
            403 Not authorized (bad email address or authorization cookie)
            404 Fireplace not found (bad serial number)
            422 Invalid Parameter (invalid command id or command value)
            


**Why use this when using local polling
Long Poll
long_poll_url = f"{self.prefix}://iftapi.net/a/{self._serial}/applongpoll"
Set timeout to 60 seconds
No change = 408 after 47 seconds - Repeat long poll
Change = 200 with APPoll Data + Etag header


